<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>auto-core.os.file documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">auto-core</span> <span class="project-version">0.0.1</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>auto-core</span></div></div></li><li class="depth-2 branch"><a href="auto-core.configuration.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>configuration</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></div></li><li class="depth-3 branch"><a href="auto-core.data.fixed-size-queue.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>fixed-size-queue</span></div></a></li><li class="depth-3 branch"><a href="auto-core.data.map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>map</span></div></a></li><li class="depth-3"><a href="auto-core.data.sequence.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sequence</span></div></a></li><li class="depth-2"><a href="auto-core.echo.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>echo</span></div></a></li><li class="depth-3 branch"><a href="auto-core.echo.actions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>actions</span></div></a></li><li class="depth-3 branch"><a href="auto-core.echo.base.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>base</span></div></a></li><li class="depth-3"><a href="auto-core.echo.headers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>headers</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>http</span></div></div></li><li class="depth-3 branch"><a href="auto-core.http.request.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>request</span></div></a></li><li class="depth-3"><a href="auto-core.http.url.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>url</span></div></a></li><li class="depth-2 branch"><a href="auto-core.keyword.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>keyword</span></div></a></li><li class="depth-2 branch"><a href="auto-core.numbers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>numbers</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>os</span></div></div></li><li class="depth-3 branch"><a href="auto-core.os.cmd.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>cmd</span></div></a></li><li class="depth-3 branch"><a href="auto-core.os.colorized-text.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>colorized-text</span></div></a></li><li class="depth-3"><a href="auto-core.os.edn-utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>edn-utils</span></div></a></li><li class="depth-4"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>impl</span></div></div></li><li class="depth-5"><a href="auto-core.os.edn-utils.impl.reader.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reader</span></div></a></li><li class="depth-3 branch"><a href="auto-core.os.exit-codes.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>exit-codes</span></div></a></li><li class="depth-3 branch current"><a href="auto-core.os.file.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>file</span></div></a></li><li class="depth-3 branch"><a href="auto-core.os.filename.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>filename</span></div></a></li><li class="depth-3"><a href="auto-core.os.formatter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>formatter</span></div></a></li><li class="depth-2"><a href="auto-core.string.html"><div class="inner"><span class="tree" style="top: -300px;"><span class="top" style="height: 309px;"></span><span class="bottom"></span></span><span>string</span></div></a></li><li class="depth-3"><a href="auto-core.string.regexp.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>regexp</span></div></a></li><li class="depth-2"><a href="auto-core.uuid.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>uuid</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="auto-core.os.file.html#var-combine-files"><div class="inner"><span>combine-files</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-copy-action"><div class="inner"><span>copy-action</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-copy-dir"><div class="inner"><span>copy-dir</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-copy-file"><div class="inner"><span>copy-file</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-create-sym-link"><div class="inner"><span>create-sym-link</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-create-temp-dir"><div class="inner"><span>create-temp-dir</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-create-temp-file"><div class="inner"><span>create-temp-file</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-delete-dir"><div class="inner"><span>delete-dir</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-delete-file"><div class="inner"><span>delete-file</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-delete-path"><div class="inner"><span>delete-path</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-do-copy-action"><div class="inner"><span>do-copy-action</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-ensure-dir-exists"><div class="inner"><span>ensure-dir-exists</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-ensure-empty-dir"><div class="inner"><span>ensure-empty-dir</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-expand-home-str"><div class="inner"><span>expand-home-str</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-is-existing-dir.3F"><div class="inner"><span>is-existing-dir?</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-is-existing-file.3F"><div class="inner"><span>is-existing-file?</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-is-existing-path.3F"><div class="inner"><span>is-existing-path?</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-make-executable"><div class="inner"><span>make-executable</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-matching-files"><div class="inner"><span>matching-files</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-modified-since"><div class="inner"><span>modified-since</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-path-on-disk"><div class="inner"><span>path-on-disk</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-pp-file"><div class="inner"><span>pp-file</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-read-file"><div class="inner"><span>read-file</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-search-files"><div class="inner"><span>search-files</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-search-in-parents"><div class="inner"><span>search-in-parents</span></div></a></li><li class="depth-1"><a href="auto-core.os.file.html#var-write-file"><div class="inner"><span>write-file</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">auto-core.os.file</h1><div class="doc"><div class="markdown"><p>Tools to manipulate local files</p>
<p>Is a proxy to babashka.fs tools.</p>
</div></div><div class="public anchor" id="var-combine-files"><h3>combine-files</h3><div class="usage"><code>(combine-files printers target-filepath &amp; src-filepathes)</code></div><div class="doc"><div class="markdown"><p>Read text content of files <code>src-filepathes</code> - in the order of the sequence - and combine them into <code>target-filepath</code>.</p>
</div></div></div><div class="public anchor" id="var-copy-action"><h3>copy-action</h3><div class="usage"><code>(copy-action path src-dirpath dst-dirpath options)</code><code>(copy-action path src-dirpath dst-dirpath)</code></div><div class="doc"><div class="markdown"><p>Copy a file at <code>path</code> in a subdir of <code>src-dirpath</code> to <code>dst-dirpath</code>.</p>
<p>The <code>options</code> could be <code>:replace-existing</code> <code>:copy-attributes</code>. Returns: * <code>:path</code> given path * <code>:apath</code> the absolute path * <code>:type</code> could be <code>:file</code> <code>:directory</code> * <code>:exist?</code> * <code>:dst-dirpath</code> * <code>:options</code> * <code>:relative-path</code> * <code>:target-path</code></p>
</div></div></div><div class="public anchor" id="var-copy-dir"><h3>copy-dir</h3><div class="usage"><code>(copy-dir src-path dst-path)</code><code>(copy-dir src-path dst-path options)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-copy-file"><h3>copy-file</h3><div class="usage"><code>(copy-file src-filepath dst-path options)</code></div><div class="doc"><div class="markdown"><p>Copy <code>src-filepath</code> to <code>dst-path</code>, that could be a filepath, or a directory where the file will be stored. Returns <code>nil</code></p>
</div></div></div><div class="public anchor" id="var-create-sym-link"><h3>create-sym-link</h3><div class="usage"><code>(create-sym-link filepath target)</code></div><div class="doc"><div class="markdown"><p>Creates a sym link to <code>target</code> linking to <code>filepath</code>. Returns <code>filepath</code></p>
</div></div></div><div class="public anchor" id="var-create-temp-dir"><h3>create-temp-dir</h3><div class="usage"><code>(create-temp-dir)</code><code>(create-temp-dir sub-dir)</code></div><div class="doc"><div class="markdown"><p>Returns a subdirectory path string of the system temporary directory. <code>sub-dir</code> is an optional string, each one is a sub directory.</p>
</div></div></div><div class="public anchor" id="var-create-temp-file"><h3>create-temp-file</h3><div class="usage"><code>(create-temp-file)</code><code>(create-temp-file filepath)</code></div><div class="doc"><div class="markdown"><p>Create a temporary file. - The file is stored in the system temporary directory. - The file is suffixed with <code>filepath</code> (optional).</p>
</div></div></div><div class="public anchor" id="var-delete-dir"><h3>delete-dir</h3><div class="usage"><code>(delete-dir dirpath)</code></div><div class="doc"><div class="markdown"><p>Deletes the directory at <code>dirpath</code> and returns <code>dirpath</code> if deleted. Returns <code>nil</code> otherwise</p>
</div></div></div><div class="public anchor" id="var-delete-file"><h3>delete-file</h3><div class="usage"><code>(delete-file filepath)</code></div><div class="doc"><div class="markdown"><p>Deletes <code>filepath</code> and returns it. If <code>filepath</code> does not exist, returns nil.</p>
</div></div></div><div class="public anchor" id="var-delete-path"><h3>delete-path</h3><div class="usage"><code>(delete-path path)</code></div><div class="doc"><div class="markdown"><p>Deletes <code>path</code> and returns it. Returns nil if the <code>path</code> does not exists.</p>
</div></div></div><div class="public anchor" id="var-do-copy-action"><h3>do-copy-action</h3><div class="usage"><code>(do-copy-action {:keys [type path dst-dirpath target-path options exist?], :as copy-action})</code></div><div class="doc"><div class="markdown"><p>Do the actual copy of <code>copy-action</code>, enrich it with <code>:status</code> (<code>:copy-fail</code> or <code>:success</code>)</p>
</div></div></div><div class="public anchor" id="var-ensure-dir-exists"><h3>ensure-dir-exists</h3><div class="usage"><code>(ensure-dir-exists dirpath)</code></div><div class="doc"><div class="markdown"><p>Creates directory <code>dirpath</code> if not already existing. Return <code>dirpath</code> if succesful, <code>nil</code> if creation has failed</p>
</div></div></div><div class="public anchor" id="var-ensure-empty-dir"><h3>ensure-empty-dir</h3><div class="usage"><code>(ensure-empty-dir dirpath)</code></div><div class="doc"><div class="markdown"><p>Ensure the directory <code>dirpath</code> is existing and empty.</p>
</div></div></div><div class="public anchor" id="var-expand-home-str"><h3>expand-home-str</h3><div class="usage"><code>(expand-home-str path)</code></div><div class="doc"><div class="markdown"><p>Return <code>path</code> where <code>~</code> is expanded to the actual value of the current home directory.</p>
</div></div></div><div class="public anchor" id="var-is-existing-dir.3F"><h3>is-existing-dir?</h3><div class="usage"><code>(is-existing-dir? dirpath)</code></div><div class="doc"><div class="markdown"><p>Returns <code>dirpath</code> if this the path exists and is a directory.</p>
</div></div></div><div class="public anchor" id="var-is-existing-file.3F"><h3>is-existing-file?</h3><div class="usage"><code>(is-existing-file? filepath)</code></div><div class="doc"><div class="markdown"><p>Returns the <code>filepath</code> if it already exists and is a regular file. Returns <code>nil</code> otherwise.</p>
</div></div></div><div class="public anchor" id="var-is-existing-path.3F"><h3>is-existing-path?</h3><div class="usage"><code>(is-existing-path? path)</code></div><div class="doc"><div class="markdown"><p>Returns true if <code>path</code> path already exist.</p>
</div></div></div><div class="public anchor" id="var-make-executable"><h3>make-executable</h3><div class="usage"><code>(make-executable filepath)</code></div><div class="doc"><div class="markdown"><p>Make file <code>filepath</code> executable. Returns <code>filepath</code></p>
</div></div></div><div class="public anchor" id="var-matching-files"><h3>matching-files</h3><div class="usage"><code>(matching-files dirpath file-pattern)</code></div><div class="doc"><div class="markdown"><p>Match files recursively found in <code>dirpath</code> that are matching <code>file-pattern</code>.</p>
</div></div></div><div class="public anchor" id="var-modified-since"><h3>modified-since</h3><div class="usage"><code>(modified-since anchor-filepath file-set)</code></div><div class="doc"><div class="markdown"><p>Returns <code>true</code> if <code>anchor-filepath</code> is older than one of the file in <code>file-set</code>.</p>
</div></div></div><div class="public anchor" id="var-path-on-disk"><h3>path-on-disk</h3><div class="usage"><code>(path-on-disk path)</code></div><div class="doc"><div class="markdown"><p>Returns a map with informations on the existance of <code>path</code> as found on the disk. As all <code>path</code> functions, it could be a file or a directory.</p>
<p>It returns: * <code>:path</code> given path * <code>:apath</code> the absolute path * <code>:type</code> could be <code>:file</code> <code>:directory</code> * <code>:exist?</code></p>
</div></div></div><div class="public anchor" id="var-pp-file"><h3>pp-file</h3><div class="usage"><code>(pp-file filepath file-content)</code></div><div class="doc"><div class="markdown"><p>Pretty print content <code>file-content</code> into file <code>filepath</code>.</p>
</div></div></div><div class="public anchor" id="var-read-file"><h3>read-file</h3><div class="usage"><code>(read-file {:keys [errorln uri-str exception-msg], :as _printers} filepath)</code></div><div class="doc"><div class="markdown"><p>Read the file named <code>filepath</code>.</p>
<p>Returns: * <code>:filepath</code> as given as a parameter * <code>:afilepath</code> file with absolute path * <code>:status</code> is <code>:success</code> or <code>:file-loading-fail</code> * <code>:raw-content</code> (only if <code>:status</code> is <code>:success</code>) * <code>:exception</code> (only if <code>:status</code> is <code>:file-loading-fail</code>)</p>
<p>That functions print on the cli: * nothing if successful or if printers are nil * an error message and the message of the exception if the file canâ€™t be read.</p>
</div></div></div><div class="public anchor" id="var-search-files"><h3>search-files</h3><div class="usage"><code>(search-files dirpath pattern options)</code><code>(search-files dirpath pattern)</code></div><div class="doc"><div class="markdown"><p>Search files and dirs. * <code>dirpath</code> is where the root directory of the search-files * <code>pattern</code> is a regular expression or a glob as described in <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/FileSystem.html#getPathMatcher(java.lang.String)">java doc</a> * <code>options</code> (Optional, default = {}) are boolean value for <code>:hidden</code>, <code>:recursive</code> and <code>:follow-lins</code>. See <a href="https://github.com/babashka/fs/blob/master/API.md#glob">babashka fs</a> for details. For instance: * <code>(files/search-files "" "**{.clj,.cljs,.cljc,.edn}")</code> search all clj file-paths in pwd directory</p>
</div></div></div><div class="public anchor" id="var-search-in-parents"><h3>search-in-parents</h3><div class="usage"><code>(search-in-parents dirpath file-or-dir)</code></div><div class="doc"><div class="markdown"><p>Search <code>file-or-dir</code> in the parents directories of <code>dirpath</code>.</p>
</div></div></div><div class="public anchor" id="var-write-file"><h3>write-file</h3><div class="usage"><code>(write-file filepath {:keys [errorln exception-msg normalln uri-str], :as _printers} content)</code></div><div class="doc"><div class="markdown"><p>Write the <code>content</code> in the file at <code>filepath</code> .</p>
<p>Returns * <code>:filepath</code> as given as a parameter * <code>:afilepath</code> file with absolute path * <code>:status</code> is <code>:success</code> or <code>:file-writing-fail</code> * <code>:raw-content</code> if file can be read. * <code>:exception</code> (only if <code>:status</code> is <code>:file-writing-fail</code>)</p>
</div></div></div></div></body></html>